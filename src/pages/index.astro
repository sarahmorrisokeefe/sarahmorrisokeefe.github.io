---
import BaseLayout from '../components/layout/BaseLayout.astro';
import Header from '../components/layout/Header.astro';
import Footer from '../components/layout/Footer.astro';
import Hero from '../components/sections/Hero.astro';
import About from '../components/sections/About.astro';
import Projects from '../components/sections/Projects.astro';
import Writing from '../components/sections/Writing.astro';
import Contact from '../components/sections/Contact.astro';
---

<BaseLayout>
  <Header />
  <main>
    <Hero />
    <About />
    <Projects />
    <Writing />
    <Contact />
  </main>
  <Footer />
</BaseLayout>

<!--
  Scroll-triggered fade-up animations.
  Elements with class "fade-up" or "fade-up-stagger" animate into view once.
-->
<script>
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.1, rootMargin: '0px 0px -40px 0px' }
  );

  document.querySelectorAll('.fade-up, .fade-up-stagger').forEach((el) => {
    observer.observe(el);
  });
</script>
